{% load static %}
{% load i18n %}

{% comment %}
  Pricing Card Component

  Parameters:
    - plan_name: name of the plan (e.g., "Free", "Monthly", "Annual")
    - price: price amount (number)
    - currency: currency symbol (default: "$")
    - period: billing period (e.g., "Free", "month", "year")
    - description: short plan description
    - features: list of feature objects [{"text": "...", "included": true/false}, ...]
    - cta_text: call-to-action button text
    - cta_link: call-to-action button link
    - is_popular: boolean - show "Popular" badge
    - is_best: boolean - show "Best Offer" badge
    - is_highlighted: boolean - use white background for card
    - discount_text: optional discount text (e.g., "Save up to 20%")
{% endcomment %}

<div class="pricing-card {% if is_highlighted %}pricing-card-highlighted{% endif %}">
  {% comment %} Badge {% endcomment %}
  {% if is_popular %}
    <div class="pricing-badge pricing-badge-popular">
      {% trans "Popular" %}
    </div>
  {% elif is_best %}
    <div class="pricing-badge pricing-badge-best">
      {% trans "Best Offer" %}
    </div>
  {% endif %}

  {% comment %} Plan Name {% endcomment %}
  <h3 class="pricing-plan-name">{{ plan_name }}</h3>

  {% comment %} Price {% endcomment %}
  <div class="pricing-price-wrapper">
    <span class="pricing-price">{{ price }}{{ currency }}</span>
    <span class="pricing-period">/ {{ period }}</span>
  </div>

  {% comment %} Description {% endcomment %}
  <p class="pricing-description">{{ description }}</p>

  {% comment %} Discount text (optional) {% endcomment %}
  {% if discount_text %}
    <p class="pricing-discount">{{ discount_text }}</p>
  {% endif %}

  {% comment %} Features List {% endcomment %}
  <ul class="pricing-features">
    {% for feature in features %}
      <li class="pricing-feature {% if not feature.included %}pricing-feature-excluded{% endif %}">
        {% if feature.included %}
          <svg class="pricing-icon-check" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 22.5C17.799 22.5 22.5 17.799 22.5 12C22.5 6.20101 17.799 1.5 12 1.5C6.20101 1.5 1.5 6.20101 1.5 12C1.5 17.799 6.20101 22.5 12 22.5Z" fill="#4CAF50"></path>
            <path d="M10.5 7H13.5V17H10.5V7Z" fill="white"></path>
            <path d="M7 10.5H17V13.5H7V10.5Z" fill="white"></path>
          </svg>
        {% else %}
          <svg class="pricing-icon-cross" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_2063_334)">
              <path d="M21.3125 17.875C21.3125 19.7656 19.7656 21.3125 17.875 21.3125H4.125C2.23438 21.3125 0.6875 19.7656 0.6875 17.875V4.125C0.6875 2.23438 2.23438 0.6875 4.125 0.6875H17.875C19.7656 0.6875 21.3125 2.23438 21.3125 4.125V17.875Z" fill="#FF5A79"></path>
              <path d="M17.1875 7.2875L14.7125 4.8125L11 8.525L7.2875 4.8125L4.8125 7.2875L8.525 11L4.8125 14.7125L7.2875 17.1875L11 13.475L14.7125 17.1875L17.1875 14.7125L13.475 11L17.1875 7.2875Z" fill="white"></path>
            </g>
            <defs>
              <clipPath id="clip0_2063_334">
                <path d="M0 11C0 4.92487 4.92487 0 11 0C17.0751 0 22 4.92487 22 11C22 17.0751 17.0751 22 11 22C4.92487 22 0 17.0751 0 11Z" fill="white"></path>
              </clipPath>
            </defs>
          </svg>
        {% endif %}
        <span>{{ feature.text }}</span>
      </li>
    {% endfor %}
  </ul>

  {% comment %} CTA Button {% endcomment %}
  <a href="{% if cta_link %}{{ cta_link }}{% else %}#{% endif %}"
     class="{% if is_highlighted %}btn-primary{% else %}btn-secondary{% endif %}">
    {{ cta_text }}
  </a>
</div>

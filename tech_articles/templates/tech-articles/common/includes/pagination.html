{% load i18n query_tags %}
{% if page_obj.has_other_pages %}
<div class="flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-4 border-t border-border-dark">
  {% if show_info %}
  <p class="text-text-muted text-sm">
    {% blocktranslate with start=page_obj.start_index end=page_obj.end_index total=page_obj.paginator.count %}
    Showing {{ start }} to {{ end }} of {{ total }} results
    {% endblocktranslate %}
  </p>
  {% endif %}
  <nav class="flex items-center gap-1" aria-label="{% translate 'Pagination' %}">
    {# Previous button #}
    {% if page_obj.has_previous %}
    <a href="{% query_transform page=page_obj.previous_page_number %}"
       class="p-2 rounded-lg text-text-secondary hover:text-white hover:bg-surface-light transition-colors"
       aria-label="{% translate 'Previous page' %}">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
    </a>
    {% else %}
    <span class="p-2 rounded-lg text-text-muted/50 cursor-not-allowed" aria-disabled="true">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
    </span>
    {% endif %}

    {# First page #}
    {% if show_first_page %}
    <a href="{% query_transform page=1 %}"
       class="min-w-[36px] h-9 flex items-center justify-center rounded-lg text-sm text-text-secondary hover:text-white hover:bg-surface-light transition-colors">
      1
    </a>
    {% endif %}

    {# First ellipsis #}
    {% if show_first_ellipsis %}
    <span class="min-w-[36px] h-9 flex items-center justify-center text-text-muted">...</span>
    {% endif %}

    {# Page numbers #}
    {% for page_num in page_range %}
      {% if page_num == page_obj.number %}
      <span class="min-w-[36px] h-9 flex items-center justify-center rounded-lg text-sm font-medium bg-primary text-surface-dark"
            aria-current="page">
        {{ page_num }}
      </span>
      {% else %}
      <a href="{% query_transform page=page_num %}"
         class="min-w-[36px] h-9 flex items-center justify-center rounded-lg text-sm text-text-secondary hover:text-white hover:bg-surface-light transition-colors">
        {{ page_num }}
      </a>
      {% endif %}
    {% endfor %}

    {# Last ellipsis #}
    {% if show_last_ellipsis %}
    <span class="min-w-[36px] h-9 flex items-center justify-center text-text-muted">...</span>
    {% endif %}

    {# Last page #}
    {% if show_last_page %}
    <a href="{% query_transform page=page_obj.paginator.num_pages %}"
       class="min-w-[36px] h-9 flex items-center justify-center rounded-lg text-sm text-text-secondary hover:text-white hover:bg-surface-light transition-colors">
      {{ page_obj.paginator.num_pages }}
    </a>
    {% endif %}

    {# Next button #}
    {% if page_obj.has_next %}
    <a href="{% query_transform page=page_obj.next_page_number %}"
       class="p-2 rounded-lg text-text-secondary hover:text-white hover:bg-surface-light transition-colors"
       aria-label="{% translate 'Next page' %}">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
      </svg>
    </a>
    {% else %}
    <span class="p-2 rounded-lg text-text-muted/50 cursor-not-allowed" aria-disabled="true">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
      </svg>
    </span>
    {% endif %}
  </nav>
</div>
{% endif %}
